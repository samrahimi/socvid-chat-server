{"version":3,"sources":["meteor://ðŸ’»app/packages/rocketchat:mongo-config/server/index.js"],"names":["tls","module","link","default","v","Mongo","DEFAULT_ECDH_CURVE","mongoOptionStr","process","env","MONGO_OPTIONS","mongoOptions","JSON","parse","setConnectionOptions","HTTP_FORWARDED_COUNT"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,KAAZ,EAAkB;AAACC,SAAO,CAACC,CAAD,EAAG;AAACJ,OAAG,GAACI,CAAJ;AAAM;;AAAlB,CAAlB,EAAsC,CAAtC;AAAyC,IAAIC,KAAJ;AAAUJ,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACG,OAAK,CAACD,CAAD,EAAG;AAACC,SAAK,GAACD,CAAN;AAAQ;;AAAlB,CAA3B,EAA+C,CAA/C;AAI3D;AACA;AACA;AACA;AACA;AACAJ,GAAG,CAACM,kBAAJ,GAAyB,MAAzB;AAEA,MAAMC,cAAc,GAAGC,OAAO,CAACC,GAAR,CAAYC,aAAnC;;AACA,IAAI,OAAOH,cAAP,KAA0B,WAA9B,EAA2C;AAC1C,QAAMI,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWN,cAAX,CAArB;AAEAF,OAAK,CAACS,oBAAN,CAA2BH,YAA3B;AACA;;AAEDH,OAAO,CAACC,GAAR,CAAYM,oBAAZ,GAAmCP,OAAO,CAACC,GAAR,CAAYM,oBAAZ,IAAoC,GAAvE,C","file":"/packages/rocketchat_mongo-config.js","sourcesContent":["import tls from 'tls';\n\nimport { Mongo } from 'meteor/mongo';\n\n// FIX For TLS error see more here https://github.com/RocketChat/Rocket.Chat/issues/9316\n// TODO: Remove after NodeJS fix it, more information\n// https://github.com/nodejs/node/issues/16196\n// https://github.com/nodejs/node/pull/16853\n// This is fixed in Node 10, but this supports LTS versions\ntls.DEFAULT_ECDH_CURVE = 'auto';\n\nconst mongoOptionStr = process.env.MONGO_OPTIONS;\nif (typeof mongoOptionStr !== 'undefined') {\n\tconst mongoOptions = JSON.parse(mongoOptionStr);\n\n\tMongo.setConnectionOptions(mongoOptions);\n}\n\nprocess.env.HTTP_FORWARDED_COUNT = process.env.HTTP_FORWARDED_COUNT || '1';\n"]}